(function(e){function t(t){for(var r,a,c=t[0],i=t[1],u=t[2],l=0,h=[];l<c.length;l++)a=c[l],s[a]&&h.push(s[a][0]),s[a]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);d&&d(t);while(h.length)h.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var i=n[c];0!==s[i]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},s={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var d=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"01e4":function(e,t,n){"use strict";var r=n("d715"),s=n.n(r);s.a},"034f":function(e,t,n){"use strict";var r=n("64a9"),s=n.n(r);s.a},1188:function(e,t,n){"use strict";var r=n("f11d"),s=n.n(r);s.a},"1d90":function(e,t,n){},"53c6":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"app"}},[n("router-view")],1)},o=[],a={name:"App"},c=a,i=(n("034f"),n("2877")),u=Object(i["a"])(c,s,o,!1,null,null,null),d=u.exports,l=n("8c4f"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"message",staticClass:"container align-middle",attrs:{id:"top"}},[n("h1",{staticClass:"contents align-middle"},[e._v("Please hold the card over the reader")])])},f=[],p=n("f499"),m=n.n(p),v={getUserInfo:function(e){return fetch("http://localhost:3000/api/user?sid=".concat(e),{mode:"cors",method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){if(!e.ok)throw e;return e.json()}).catch(function(e){console.error(e)})},registCardInfo:function(e,t){return fetch("http://localhost:3000/api/user",{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:m()({SID:t,CardID:e})}).then(function(e){return e.json()}).catch(function(e){console.error(e)})},addLog:function(e,t,n){return console.log({SID:e,IsEnter:t?1:0,Ext:n}),fetch("http://localhost:3000/api/log",{mode:"cors",method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:m()({SID:e,IsEnter:t?1:0,Ext:n})}).then(function(e){if(!e.ok)throw e;return e}).catch(function(e){console.error(e)})}},g={name:"top",destroyed:function(){this.ws.close()},mounted:function(){var e=this;this.ws=new WebSocket("ws://localhost:3000/socket/readCard"),this.ws.onopen=function(e){console.log("Card reader standby")},this.ws.onmessage=function(t){var n=JSON.parse(t.data);console.log("Read card data:",n),!1===n["IsNew"]?v.getUserInfo(n["SID"]).then(function(t){t["IsEnter"]?e.$router.push({name:"question",params:{userinfo:t}}):e.$router.push({name:"welcome",params:{userinfo:t}})}):e.$router.push({name:"regist",params:{cardid:n["CardID"]}})},this.ws.onerror=function(e){console.log("Card reader communication error",e)},this.ws.onclose=function(e){console.log("Card reader stopped")}}},k=g,b=(n("e4f7"),Object(i["a"])(k,h,f,!1,null,"a4d534d0",null)),y=b.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"},attrs:{id:"regist"}},[n("div",{staticClass:"studentNUM"},[n("h1",{},[e._v("Please Input Your Student Number")]),n("h1",{},[e._v("Input: "+e._s(e.sid))]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.sid,expression:"sid"}],staticStyle:{border:"2px, #42b983, double"},attrs:{placeholder:"s120000"},domProps:{value:e.sid},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.regist(t)},input:function(t){t.target.composing||(e.sid=t.target.value)}}})])])},_=[],w={name:"regist",data:function(){return{sid:""}},methods:{regist:function(){var e=this,t=this.$route.params.cardid;v.registCardInfo(t,this.sid).then(function(t){!0!==t["Success"]?(console.log("Card register failed"),alert("The ID is not found.")):v.getUserInfo(e.sid).then(function(t){t["IsEnter"]?e.$router.push({name:"question",params:{userinfo:t}}):e.$router.push({name:"welcome",params:{userinfo:t}})})}).catch(function(t){console.error(t),e.$router.push({name:"top"})})}}},C=w,x=(n("1188"),Object(i["a"])(C,U,_,!1,null,"56d5ee94",null)),O=x.exports,S=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container align-middle",attrs:{id:"welcome"}},[n("h1",{staticClass:"contents align-middle"},[e._v(" Welcome To Geek Dojo "+e._s(e.username)+" ")])])},j=[],I={name:"welcome",data:function(){return{username:""}},mounted:function(){var e=this.$route.params.userinfo;this.username=e["UserName"];var t=e["SID"];v.addLog(t,!0,"");var n=this;setTimeout(function(){n.$router.push({name:"top"})},5e3)}},P=I,A=(n("01e4"),Object(i["a"])(P,S,j,!1,null,"4b1187f6",null)),$=A.exports,T=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},D=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container align-middle",attrs:{id:"goodbye"}},[n("h1",{staticClass:"contents align-middle"},[e._v("Good bye")])])}],E={name:"goodbye",mounted:function(){setTimeout(function(){Y.push({name:"top"})},3e3)}},N=E,q=(n("66ad"),Object(i["a"])(N,T,D,!1,null,"4c06989a",null)),L=q.exports,M=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%"},attrs:{id:"ques"}},[n("div",{staticClass:"question"},[n("h2",[e._v("What is your purpose?")]),n("div",{staticClass:"checkboxes alignment",attrs:{"data-toggle":"buttons-radio"}},[n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedUse,expression:"checkedUse"}],staticClass:"btn btn-info",attrs:{type:"checkbox",value:"3DPrinter"},domProps:{checked:Array.isArray(e.checkedUse)?e._i(e.checkedUse,"3DPrinter")>-1:e.checkedUse},on:{change:function(t){var n=e.checkedUse,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="3DPrinter",a=e._i(n,o);r.checked?a<0&&(e.checkedUse=n.concat([o])):a>-1&&(e.checkedUse=n.slice(0,a).concat(n.slice(a+1)))}else e.checkedUse=s}}}),n("label",{staticStyle:{"font-size":"20px"},attrs:{for:"3DPrinter"}},[e._v("3DPrinter")])]),n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedUse,expression:"checkedUse"}],staticClass:"btn btn-info",attrs:{type:"checkbox",value:"LaserCutter"},domProps:{checked:Array.isArray(e.checkedUse)?e._i(e.checkedUse,"LaserCutter")>-1:e.checkedUse},on:{change:function(t){var n=e.checkedUse,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="LaserCutter",a=e._i(n,o);r.checked?a<0&&(e.checkedUse=n.concat([o])):a>-1&&(e.checkedUse=n.slice(0,a).concat(n.slice(a+1)))}else e.checkedUse=s}}}),n("label",{staticStyle:{"font-size":"20px"},attrs:{for:"LaserCutter"}},[e._v("LaserCutter")])]),n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedUse,expression:"checkedUse"}],staticClass:"btn btn-info",attrs:{type:"checkbox",value:"Training session"},domProps:{checked:Array.isArray(e.checkedUse)?e._i(e.checkedUse,"Training session")>-1:e.checkedUse},on:{change:function(t){var n=e.checkedUse,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="Training session",a=e._i(n,o);r.checked?a<0&&(e.checkedUse=n.concat([o])):a>-1&&(e.checkedUse=n.slice(0,a).concat(n.slice(a+1)))}else e.checkedUse=s}}}),n("label",{staticStyle:{"font-size":"20px"},attrs:{for:"Training"}},[e._v("Training")])]),n("div",{staticClass:"checkbox"},[n("input",{directives:[{name:"model",rawName:"v-model",value:e.checkedUse,expression:"checkedUse"}],staticClass:"btn btn-info",attrs:{type:"checkbox",value:"Other"},domProps:{checked:Array.isArray(e.checkedUse)?e._i(e.checkedUse,"Other")>-1:e.checkedUse},on:{change:function(t){var n=e.checkedUse,r=t.target,s=!!r.checked;if(Array.isArray(n)){var o="Other",a=e._i(n,o);r.checked?a<0&&(e.checkedUse=n.concat([o])):a>-1&&(e.checkedUse=n.slice(0,a).concat(n.slice(a+1)))}else e.checkedUse=s}}}),n("label",{staticStyle:{"font-size":"20px"},attrs:{for:"Other"}},[e._v("Other")])])]),n("h3",[e._v("If you have any request please fill in.")]),n("br"),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],attrs:{placeholder:""},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}),n("br"),n("button",{staticClass:"btn btn-info",on:{click:e.send}},[e._v("send")])])])},z=[],G={name:"ques",data:function(){return{checkedUse:[],message:""}},methods:{send:function(){var e=this,t=this.$route.params.userinfo,n=m()({Use:this.checkedUse,message:this.message});v.addLog(t["SID"],!1,n).then(function(t){e.$router.push({name:"goodbye"})})}}},J=G,W=(n("e49c"),Object(i["a"])(J,M,z,!1,null,"126684a4",null)),R=W.exports;r["a"].use(l["a"]);var Y=new l["a"]({routes:[{path:"/",name:"top",component:y},{path:"/regist",name:"regist",component:O},{path:"/welcome",name:"welcome",component:$},{path:"/goodbye",name:"goodbye",component:L},{path:"/question",name:"question",component:R}]}),B=(n("f9e3"),n("2dd8"),n("9f7b")),F=n.n(B);r["a"].config.productionTip=!1,r["a"].use(F.a),new r["a"]({router:Y,render:function(e){return e(d)}}).$mount("#app")},"64a9":function(e,t,n){},"66ad":function(e,t,n){"use strict";var r=n("53c6"),s=n.n(r);s.a},"719f":function(e,t,n){},d715:function(e,t,n){},e49c:function(e,t,n){"use strict";var r=n("1d90"),s=n.n(r);s.a},e4f7:function(e,t,n){"use strict";var r=n("719f"),s=n.n(r);s.a},f11d:function(e,t,n){}});
//# sourceMappingURL=app.73cb1091.js.map